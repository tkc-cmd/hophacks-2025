{"ast":null,"code":"var _jsxFileName = \"/Users/theo/Coding/pharmabot3/frontend/src/components/VoiceInterface.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Mic, MicOff, Send, Loader2 } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VoiceInterface = ({\n  microphoneState,\n  isConnected,\n  isProcessing,\n  onSendMessage,\n  wsRef,\n  sessionId,\n  sendWebSocketMessage\n}) => {\n  _s();\n  const [isRecording, setIsRecording] = useState(false);\n  const [textInput, setTextInput] = useState('');\n  const [permissionGranted, setPermissionGranted] = useState(false);\n  const [permissionError, setPermissionError] = useState(null);\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const streamRef = useRef(null);\n  useEffect(() => {\n    // Request microphone permission on component mount\n    requestMicrophonePermission();\n    return () => {\n      stopRecording();\n    };\n  }, []);\n  const requestMicrophonePermission = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: {\n          echoCancellation: true,\n          noiseSuppression: true,\n          autoGainControl: true,\n          sampleRate: 16000\n        }\n      });\n      setPermissionGranted(true);\n      setPermissionError(null);\n\n      // Stop the stream for now, we'll create a new one when recording\n      stream.getTracks().forEach(track => track.stop());\n    } catch (err) {\n      console.error('Microphone permission error:', err);\n      setPermissionGranted(false);\n      setPermissionError('Microphone access is required for voice interaction');\n    }\n  };\n  const startRecording = async () => {\n    if (!permissionGranted || !isConnected || isRecording) {\n      return;\n    }\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: {\n          echoCancellation: true,\n          noiseSuppression: true,\n          autoGainControl: true,\n          sampleRate: 16000\n        }\n      });\n      streamRef.current = stream;\n      audioChunksRef.current = [];\n      const mediaRecorder = new MediaRecorder(stream, {\n        mimeType: 'audio/webm;codecs=opus'\n      });\n      mediaRecorderRef.current = mediaRecorder;\n      mediaRecorder.ondataavailable = event => {\n        if (event.data.size > 0) {\n          audioChunksRef.current.push(event.data);\n\n          // Convert to base64 and send chunk\n          const reader = new FileReader();\n          reader.onload = () => {\n            const base64Audio = reader.result.split(',')[1];\n            sendWebSocketMessage({\n              type: 'audio_chunk',\n              sessionId,\n              payload: base64Audio\n            });\n          };\n          reader.readAsDataURL(event.data);\n        }\n      };\n      mediaRecorder.onstop = () => {\n        sendWebSocketMessage({\n          type: 'end_audio',\n          sessionId\n        });\n\n        // Clean up stream\n        if (streamRef.current) {\n          streamRef.current.getTracks().forEach(track => track.stop());\n          streamRef.current = null;\n        }\n      };\n      mediaRecorder.start(100); // Collect data every 100ms\n      setIsRecording(true);\n    } catch (err) {\n      console.error('Recording start error:', err);\n      setPermissionError('Failed to start recording');\n    }\n  };\n  const stopRecording = () => {\n    if (mediaRecorderRef.current && isRecording) {\n      mediaRecorderRef.current.stop();\n      setIsRecording(false);\n    }\n    if (streamRef.current) {\n      streamRef.current.getTracks().forEach(track => track.stop());\n      streamRef.current = null;\n    }\n  };\n  const handleMicrophoneClick = () => {\n    if (microphoneState === 'speaking') {\n      // Interrupt the agent\n      sendWebSocketMessage({\n        type: 'interrupt',\n        sessionId\n      });\n      return;\n    }\n    if (isRecording) {\n      stopRecording();\n    } else {\n      startRecording();\n    }\n  };\n  const handleTextSubmit = e => {\n    e.preventDefault();\n    if (textInput.trim() && isConnected) {\n      onSendMessage(textInput.trim());\n      setTextInput('');\n    }\n  };\n  const getMicrophoneIcon = () => {\n    switch (microphoneState) {\n      case 'listening':\n        return /*#__PURE__*/_jsxDEV(MicOff, {\n          className: \"w-8 h-8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 16\n        }, this);\n      case 'processing':\n        return /*#__PURE__*/_jsxDEV(Loader2, {\n          className: \"w-8 h-8 animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 16\n        }, this);\n      case 'speaking':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sound-wave h-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sound-wave h-8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sound-wave h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sound-wave h-7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sound-wave h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(Mic, {\n          className: \"w-8 h-8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  const getMicrophoneLabel = () => {\n    switch (microphoneState) {\n      case 'listening':\n        return 'Stop Recording';\n      case 'processing':\n        return 'Processing...';\n      case 'speaking':\n        return 'Tap to Interrupt';\n      default:\n        return 'Start Recording';\n    }\n  };\n  const isButtonDisabled = () => {\n    return !isConnected || !permissionGranted || isProcessing;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"glass-effect rounded-xl p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-lg font-semibold text-gray-800 mb-6\",\n      children: \"Voice Interface\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-center space-y-4 mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleMicrophoneClick,\n        disabled: isButtonDisabled(),\n        className: `microphone-button ${microphoneState} ${isButtonDisabled() ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}`,\n        title: getMicrophoneLabel(),\n        children: getMicrophoneIcon()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm font-medium text-gray-700\",\n          children: getMicrophoneLabel()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), microphoneState === 'listening' && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500 mt-1\",\n          children: \"Listening... Speak clearly\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this), permissionError && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-red-700\",\n        children: permissionError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: requestMicrophonePermission,\n        className: \"mt-2 text-sm text-red-600 hover:text-red-800 underline\",\n        children: \"Try Again\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border-t border-gray-200 pt-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-sm font-medium text-gray-700 mb-3\",\n        children: \"Or type your message:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleTextSubmit,\n        className: \"flex space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: textInput,\n          onChange: e => setTextInput(e.target.value),\n          placeholder: \"Type your message here...\",\n          disabled: !isConnected,\n          className: \"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-medical-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: !textInput.trim() || !isConnected,\n          className: \"px-4 py-2 bg-medical-500 text-white rounded-lg hover:bg-medical-600 focus:outline-none focus:ring-2 focus:ring-medical-500 focus:ring-offset-2 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors\",\n          children: /*#__PURE__*/_jsxDEV(Send, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6 text-xs text-gray-500 space-y-1\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Connection:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: isConnected ? 'text-green-600' : 'text-red-600',\n          children: isConnected ? 'Connected' : 'Disconnected'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Microphone:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: permissionGranted ? 'text-green-600' : 'text-red-600',\n          children: permissionGranted ? 'Ready' : 'Not Available'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"State:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"capitalize\",\n          children: microphoneState\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 193,\n    columnNumber: 5\n  }, this);\n};\n_s(VoiceInterface, \"Gf/tRpJ1a1McEzsb/bzCKyKQUrI=\");\n_c = VoiceInterface;\nexport default VoiceInterface;\nvar _c;\n$RefreshReg$(_c, \"VoiceInterface\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Mic","MicOff","Send","Loader2","jsxDEV","_jsxDEV","VoiceInterface","microphoneState","isConnected","isProcessing","onSendMessage","wsRef","sessionId","sendWebSocketMessage","_s","isRecording","setIsRecording","textInput","setTextInput","permissionGranted","setPermissionGranted","permissionError","setPermissionError","mediaRecorderRef","audioChunksRef","streamRef","requestMicrophonePermission","stopRecording","stream","navigator","mediaDevices","getUserMedia","audio","echoCancellation","noiseSuppression","autoGainControl","sampleRate","getTracks","forEach","track","stop","err","console","error","startRecording","current","mediaRecorder","MediaRecorder","mimeType","ondataavailable","event","data","size","push","reader","FileReader","onload","base64Audio","result","split","type","payload","readAsDataURL","onstop","start","handleMicrophoneClick","handleTextSubmit","e","preventDefault","trim","getMicrophoneIcon","className","fileName","_jsxFileName","lineNumber","columnNumber","children","getMicrophoneLabel","isButtonDisabled","onClick","disabled","title","onSubmit","value","onChange","target","placeholder","_c","$RefreshReg$"],"sources":["/Users/theo/Coding/pharmabot3/frontend/src/components/VoiceInterface.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { Mic, MicOff, Send, Loader2 } from 'lucide-react';\n\nconst VoiceInterface = ({ \n  microphoneState, \n  isConnected, \n  isProcessing,\n  onSendMessage,\n  wsRef,\n  sessionId,\n  sendWebSocketMessage\n}) => {\n  const [isRecording, setIsRecording] = useState(false);\n  const [textInput, setTextInput] = useState('');\n  const [permissionGranted, setPermissionGranted] = useState(false);\n  const [permissionError, setPermissionError] = useState(null);\n  \n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const streamRef = useRef(null);\n\n  useEffect(() => {\n    // Request microphone permission on component mount\n    requestMicrophonePermission();\n    \n    return () => {\n      stopRecording();\n    };\n  }, []);\n\n  const requestMicrophonePermission = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ \n        audio: {\n          echoCancellation: true,\n          noiseSuppression: true,\n          autoGainControl: true,\n          sampleRate: 16000\n        } \n      });\n      \n      setPermissionGranted(true);\n      setPermissionError(null);\n      \n      // Stop the stream for now, we'll create a new one when recording\n      stream.getTracks().forEach(track => track.stop());\n      \n    } catch (err) {\n      console.error('Microphone permission error:', err);\n      setPermissionGranted(false);\n      setPermissionError('Microphone access is required for voice interaction');\n    }\n  };\n\n  const startRecording = async () => {\n    if (!permissionGranted || !isConnected || isRecording) {\n      return;\n    }\n\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ \n        audio: {\n          echoCancellation: true,\n          noiseSuppression: true,\n          autoGainControl: true,\n          sampleRate: 16000\n        } \n      });\n      \n      streamRef.current = stream;\n      audioChunksRef.current = [];\n\n      const mediaRecorder = new MediaRecorder(stream, {\n        mimeType: 'audio/webm;codecs=opus'\n      });\n      \n      mediaRecorderRef.current = mediaRecorder;\n\n      mediaRecorder.ondataavailable = (event) => {\n        if (event.data.size > 0) {\n          audioChunksRef.current.push(event.data);\n          \n          // Convert to base64 and send chunk\n          const reader = new FileReader();\n          reader.onload = () => {\n            const base64Audio = reader.result.split(',')[1];\n            sendWebSocketMessage({\n              type: 'audio_chunk',\n              sessionId,\n              payload: base64Audio\n            });\n          };\n          reader.readAsDataURL(event.data);\n        }\n      };\n\n      mediaRecorder.onstop = () => {\n        sendWebSocketMessage({\n          type: 'end_audio',\n          sessionId\n        });\n        \n        // Clean up stream\n        if (streamRef.current) {\n          streamRef.current.getTracks().forEach(track => track.stop());\n          streamRef.current = null;\n        }\n      };\n\n      mediaRecorder.start(100); // Collect data every 100ms\n      setIsRecording(true);\n      \n    } catch (err) {\n      console.error('Recording start error:', err);\n      setPermissionError('Failed to start recording');\n    }\n  };\n\n  const stopRecording = () => {\n    if (mediaRecorderRef.current && isRecording) {\n      mediaRecorderRef.current.stop();\n      setIsRecording(false);\n    }\n    \n    if (streamRef.current) {\n      streamRef.current.getTracks().forEach(track => track.stop());\n      streamRef.current = null;\n    }\n  };\n\n  const handleMicrophoneClick = () => {\n    if (microphoneState === 'speaking') {\n      // Interrupt the agent\n      sendWebSocketMessage({\n        type: 'interrupt',\n        sessionId\n      });\n      return;\n    }\n\n    if (isRecording) {\n      stopRecording();\n    } else {\n      startRecording();\n    }\n  };\n\n  const handleTextSubmit = (e) => {\n    e.preventDefault();\n    if (textInput.trim() && isConnected) {\n      onSendMessage(textInput.trim());\n      setTextInput('');\n    }\n  };\n\n  const getMicrophoneIcon = () => {\n    switch (microphoneState) {\n      case 'listening':\n        return <MicOff className=\"w-8 h-8\" />;\n      case 'processing':\n        return <Loader2 className=\"w-8 h-8 animate-spin\" />;\n      case 'speaking':\n        return <div className=\"flex items-center space-x-1\">\n          <div className=\"sound-wave h-6\"></div>\n          <div className=\"sound-wave h-8\"></div>\n          <div className=\"sound-wave h-4\"></div>\n          <div className=\"sound-wave h-7\"></div>\n          <div className=\"sound-wave h-5\"></div>\n        </div>;\n      default:\n        return <Mic className=\"w-8 h-8\" />;\n    }\n  };\n\n  const getMicrophoneLabel = () => {\n    switch (microphoneState) {\n      case 'listening':\n        return 'Stop Recording';\n      case 'processing':\n        return 'Processing...';\n      case 'speaking':\n        return 'Tap to Interrupt';\n      default:\n        return 'Start Recording';\n    }\n  };\n\n  const isButtonDisabled = () => {\n    return !isConnected || !permissionGranted || isProcessing;\n  };\n\n  return (\n    <div className=\"glass-effect rounded-xl p-6\">\n      <h2 className=\"text-lg font-semibold text-gray-800 mb-6\">Voice Interface</h2>\n      \n      {/* Microphone Button */}\n      <div className=\"flex flex-col items-center space-y-4 mb-8\">\n        <button\n          onClick={handleMicrophoneClick}\n          disabled={isButtonDisabled()}\n          className={`microphone-button ${microphoneState} ${\n            isButtonDisabled() ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'\n          }`}\n          title={getMicrophoneLabel()}\n        >\n          {getMicrophoneIcon()}\n        </button>\n        \n        <div className=\"text-center\">\n          <p className=\"text-sm font-medium text-gray-700\">\n            {getMicrophoneLabel()}\n          </p>\n          {microphoneState === 'listening' && (\n            <p className=\"text-xs text-gray-500 mt-1\">\n              Listening... Speak clearly\n            </p>\n          )}\n        </div>\n      </div>\n\n      {/* Permission Error */}\n      {permissionError && (\n        <div className=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg\">\n          <p className=\"text-sm text-red-700\">{permissionError}</p>\n          <button\n            onClick={requestMicrophonePermission}\n            className=\"mt-2 text-sm text-red-600 hover:text-red-800 underline\"\n          >\n            Try Again\n          </button>\n        </div>\n      )}\n\n      {/* Text Input Alternative */}\n      <div className=\"border-t border-gray-200 pt-6\">\n        <h3 className=\"text-sm font-medium text-gray-700 mb-3\">\n          Or type your message:\n        </h3>\n        \n        <form onSubmit={handleTextSubmit} className=\"flex space-x-2\">\n          <input\n            type=\"text\"\n            value={textInput}\n            onChange={(e) => setTextInput(e.target.value)}\n            placeholder=\"Type your message here...\"\n            disabled={!isConnected}\n            className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-medical-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed\"\n          />\n          <button\n            type=\"submit\"\n            disabled={!textInput.trim() || !isConnected}\n            className=\"px-4 py-2 bg-medical-500 text-white rounded-lg hover:bg-medical-600 focus:outline-none focus:ring-2 focus:ring-medical-500 focus:ring-offset-2 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors\"\n          >\n            <Send className=\"w-4 h-4\" />\n          </button>\n        </form>\n      </div>\n\n      {/* Status Information */}\n      <div className=\"mt-6 text-xs text-gray-500 space-y-1\">\n        <div className=\"flex justify-between\">\n          <span>Connection:</span>\n          <span className={isConnected ? 'text-green-600' : 'text-red-600'}>\n            {isConnected ? 'Connected' : 'Disconnected'}\n          </span>\n        </div>\n        <div className=\"flex justify-between\">\n          <span>Microphone:</span>\n          <span className={permissionGranted ? 'text-green-600' : 'text-red-600'}>\n            {permissionGranted ? 'Ready' : 'Not Available'}\n          </span>\n        </div>\n        <div className=\"flex justify-between\">\n          <span>State:</span>\n          <span className=\"capitalize\">{microphoneState}</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default VoiceInterface;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}